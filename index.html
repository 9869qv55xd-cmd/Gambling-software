<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultimate Virtual Casino</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--gold:#d4af37;--panel:#111;--red:#8b0000;--green:#006400}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial;background:radial-gradient(circle at top,#222,#000);color:#eee;text-align:center}
.hidden{display:none}
button{padding:10px 16px;margin:4px;border-radius:8px;border:1px solid #444;background:#222;color:#fff;cursor:pointer}
button:hover{border-color:var(--gold)}
button:disabled{opacity:.4}
input{padding:10px;font-size:16px;background:#000;color:#fff;border-radius:6px;border:1px solid #444}
.panel{max-width:1100px;margin:14px auto;padding:16px;background:var(--panel);border-radius:12px;border:1px solid #333}
.gold{color:var(--gold)}
.red{background:#8b0000}
.black{background:#000}
.green{background:#006400}
.admin{border:2px solid red;color:red;padding:4px 10px;border-radius:6px}
#lock,#lobby{height:100vh;display:flex;align-items:center;justify-content:center}
.box{background:#111;padding:30px;border-radius:14px;border:1px solid var(--gold);max-width:420px;width:100%}
#error{color:red;margin-top:10px}
#wheel{width:220px;height:220px;margin:14px auto;border-radius:50%;border:10px solid var(--gold);background:conic-gradient(#006400 0deg 10deg,#8b0000 10deg 190deg,#000 190deg 360deg);transition:transform 3.2s cubic-bezier(.2,.8,.2,1)}
#rouletteTable{display:grid;grid-template-columns:repeat(12,1fr);gap:4px;margin-top:14px}
.cell{padding:10px;border-radius:6px;font-weight:bold;cursor:pointer}
@media(max-width:800px){#rouletteTable{grid-template-columns:repeat(6,1fr)}}
</style>
</head>
<body>

<div id="lock">
  <div class="box">
    <h2 class="gold">ğŸ” Casino Access</h2>
    <input id="code" type="password" placeholder="Access code">
    <br><br>
    <button onclick="unlock()">ENTER</button>
    <div id="error"></div>
  </div>
</div>

<div id="lobby" class="hidden">
  <div class="box">
    <h2 class="gold">ğŸ‘¥ Player Lobby</h2>
    <input id="playerName" placeholder="Player name">
    <br><br>
    <button onclick="addPlayer()">Add Player</button>
    <div id="playerList"></div>
    <br>
    <button onclick="startGame()">ğŸ° Start Game</button>
  </div>
</div>

<div id="casino" class="hidden">
<h1>ğŸ° Ultimate Virtual Casino <span id="adminBadge" class="hidden admin">ADMIN</span></h1>

<div class="panel">
  <div id="players"></div>
  <p>Bet: <span id="bet" class="gold">0</span></p>
  <button onclick="addBet(5)">5</button>
  <button onclick="addBet(10)">10</button>
  <button onclick="addBet(25)">25</button>
  <button onclick="addBet(50)">50</button>
  <button onclick="addBet(100)">100</button>
  <button onclick="clearBet()">Clear</button>
</div>

<div class="panel">
  <button onclick="dice()">ğŸ² Dice</button>
  <button onclick="slots()">ğŸ° Slots</button>
  <button onclick="blackjack()">ğŸƒ Blackjack</button>
  <button onclick="toggleRoulette()">ğŸ¡ Roulette</button>
</div>

<div class="panel hidden" id="roulettePanel">
  <div id="wheel"></div>
  <button class="red" onclick="betColor('red')">RED</button>
  <button class="black" onclick="betColor('black')">BLACK</button>
  <button onclick="betParity('odd')">ODD</button>
  <button onclick="betParity('even')">EVEN</button>
  <button onclick="betRange('low')">1â€“18</button>
  <button onclick="betRange('high')">19â€“36</button>
  <button class="green" onclick="betNumber(0)">0</button>
  <div id="rouletteTable"></div>
</div>

<div class="panel hidden admin" id="adminPanel">
  <button onclick="adminAddMoney(100)">+100</button>
  <button onclick="adminAddMoneyAll(100)">+100 All</button>
  <button onclick="adminSkip()">Skip</button>
  <button onclick="adminReset()">Restart</button>
</div>

<div class="panel"><div id="output"></div></div>
</div>

<script>
let PLAYER_CODE="2580",ADMIN_CODE="7419";
let unlocked=false,isAdmin=false,attempts=0,lockedUntil=0;
const MAX_ATTEMPTS=5;

function unlock(){
  if(Date.now()<lockedUntil)return error.innerText="â›” Locked";
  const c=code.value.trim();
  if(c===PLAYER_CODE||c===ADMIN_CODE){
    unlocked=true;isAdmin=c===ADMIN_CODE;
    lock.classList.add("hidden");lobby.classList.remove("hidden");
  }else{
    attempts++;code.value="";
    if(attempts>=MAX_ATTEMPTS){lockedUntil=Date.now()+30000;attempts=0}
    error.innerText="âŒ Incorrect";
  }
}

let players=[],turn=0,bet=0,spinning=false;
const redNums=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

function addPlayer(){
  const n=playerName.value.trim();
  if(!n||players.length>=6||players.some(p=>p.name===n))return;
  players.push({name:n,bal:100});
  playerName.value="";renderLobby();
}
function renderLobby(){
  playerList.innerHTML=players.map((p,i)=>`<p>${p.name} <button onclick="players.splice(${i},1);renderLobby()">âŒ</button></p>`).join("");
}
function startGame(){
  if(players.length<1)return;
  lobby.classList.add("hidden");casino.classList.remove("hidden");
  if(isAdmin){adminPanel.classList.remove("hidden");adminBadge.classList.remove("hidden")}
  ui();
}
function ui(){
  playersDiv.innerHTML=players.map((p,i)=>`<p ${i===turn?'class="gold"':''}>${p.name}: ğŸ’°${p.bal}</p>`).join("");
  betSpan.innerText=bet;
}
function addBet(v){
  if(spinning)return;
  if(players[turn].bal < bet+v)return;
  bet+=v;ui();
}
function clearBet(){if(!spinning){bet=0;ui()}}
function canBet(){return bet>0 && players[turn].bal>=bet}

function endTurn(){
  if(players[turn].bal<=0){alert(players[turn].name+" bankrupt");location.reload()}
  bet=0;turn=(turn+1)%players.length;ui();
}
function output(t){outputDiv.innerText=t}

function dice(){if(!canBet())return;Math.random()>.5?players[turn].bal+=bet:players[turn].bal-=bet;output("ğŸ² Dice");endTurn()}
function slots(){if(!canBet())return;output("ğŸ° Spinning...");setTimeout(()=>{Math.random()>.85?players[turn].bal+=bet*10:players[turn].bal-=bet;output("ğŸ° Result");endTurn()},1200)}
function blackjack(){
  if(!canBet())return;
  let p=16+Math.random()*6,d=15+Math.random()*8;
  if(p>21||d<=21&&d>=p)players[turn].bal-=bet;else players[turn].bal+=bet;
  output("ğŸƒ Blackjack");endTurn();
}

function toggleRoulette(){roulettePanel.classList.toggle("hidden")}
function spin(b){
  if(!canBet()||spinning)return;
  spinning=true;
  wheel.style.transform=`rotate(${Math.random()*360+1080}deg)`;
  setTimeout(()=>{
    const n=Math.floor(Math.random()*37);
    let win=false,m=1;
    if(b.t==="n"){win=n===b.v;m=35}
    if(b.t==="c"){win=b.v==="red"?redNums.includes(n):n!==0&&!redNums.includes(n)}
    if(b.t==="p"&&n!==0)win=b.v==="odd"?n%2:!(n%2);
    if(b.t==="r")win=b.v==="low"?n>=1&&n<=18:n>=19&&n<=36;
    win?players[turn].bal+=bet*m:players[turn].bal-=bet;
    output("ğŸ¡ Roulette: "+n);
    spinning=false;endTurn();
  },3200);
}
function betNumber(n){spin({t:"n",v:n})}
function betColor(c){spin({t:"c",v:c})}
function betParity(p){spin({t:"p",v:p})}
function betRange(r){spin({t:"r",v:r})}

function adminAddMoney(x){if(players[turn].bal>0){players[turn].bal+=x;ui()}}
function adminAddMoneyAll(x){players.forEach(p=>p.bal+=x);ui()}
function adminSkip(){endTurn()}
function adminReset(){location.reload()}

const playersDiv=document.getElementById("players");
const betSpan=document.getElementById("bet");
const outputDiv=document.getElementById("output");
(function(){
  for(let i=1;i<=36;i++){
    const d=document.createElement("div");
    d.className="cell "+(redNums.includes(i)?"red":"black");
    d.innerText=i;d.onclick=()=>betNumber(i);
    rouletteTable.appendChild(d);
  }
})();
</script>
</body>
</html>
